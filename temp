    cx(a[1], d[2]);
    cx(a[3], d[2]);
    cx(b[1], d[3]);
    cx(b[3], d[3]);
    cx(a[2], d[4]);
    cx(a[3], d[4]);
    cx(b[2], d[5]);
    cx(b[3], d[5]);
    cx(a[0], d[6]);
    cx(a[2], d[6]);
    cx(b[0], d[7]);
    cx(b[2], d[7]);
    cx(d[6], d[0]);
    cx(d[2], d[0]);
    cx(d[7], d[1]);
    cx(d[3], d[1]);
    cx(a[0], d[8]);
    cx(a[1], d[8]);
    cx(b[0], d[9]);
    cx(b[1], d[9]);
    ccx(d[0], d[1], t[0]);
    ccx(d[2], d[3], t[1]);
    ccx(d[4], d[5], t[2]);
    ccx(d[8], d[9], t[3]);
    ccx(d[6], d[7], d[10]);
    ccx(a[3], b[3], d[11]);
    ccx(a[2], b[2], d[12]);
    ccx(a[1], b[1], d[13]);
    ccx(a[0], b[0], d[14]);
    cx(t[1], t[0]);
    cx(t[2], t[0]);
    cx(d[11], t[0]);
    cx(d[10], t[1]);
    cx(d[11], t[1]);
    cx(d[12], t[1]);
    cx(t[3], t[2]);
    cx(d[11], t[2]);
    cx(d[14], t[2]);
    cx(d[11], t[3]);
    cx(d[12], t[3]);
    cx(d[13], t[3]);
    ccx(a[0], b[0], d[14]);
    ccx(a[1], b[1], d[13]);
    ccx(a[2], b[2], d[12]);
    ccx(a[3], b[3], d[11]);
    ccx(d[6], d[7], d[10]);
    cx(b[0], d[9]);
    cx(b[1], d[9]);
    cx(a[0], d[8]);
    cx(a[1], d[8]);
    cx(d[7], d[1]);
    cx(d[3], d[1]);
    cx(d[6], d[0]);
    cx(d[2], d[0]);
    cx(b[0], d[7]);
    cx(b[2], d[7]);
    cx(a[0], d[6]);
    cx(a[2], d[6]);
    cx(b[2], d[5]);
    cx(b[3], d[5]);
    cx(a[2], d[4]);
    cx(a[3], d[4]);
    cx(b[1], d[3]);
    cx(b[3], d[3]);
    cx(a[1], d[2]);
    cx(a[3], d[2]);